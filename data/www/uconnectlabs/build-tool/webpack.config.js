export let webpackConfig = {
    watch: false,
    stats: 'none',
    mode: process.env.NODE_ENV,
    output: {
        filename: `[name]${process.env.NODE_ENV ? '.min' : ''}.js`,
    },
    module: {
        rules: [
            {
                test: /\.(jsx|js)$/,
                // include: path.resolve(__dirname, 'src'),
                exclude: /node_modules/,
                use: [{
                    loader: 'babel-loader',
                    options: {
                        presets: ["@wordpress/babel-preset-default", "@babel/preset-env", "@babel/preset-react"],
                        plugins: ["@babel/plugin-proposal-class-properties"]
                    }
                }]
            }]
    },
    externals: {
        '@wordpress/a11y': 'wp.a11y',
        '@wordpress/api-fetch': 'wp.apiFetch',
        '@wordpress/api-request': 'wp.apiRequest',
        '@wordpress/autop': 'wp.autop',
        '@wordpress/blob': 'wp.blob',
        '@wordpress/block-library': 'wp.blockLibrary',
        '@wordpress/blocks': 'wp.blocks',
        '@wordpress/block-serialization-default-parser': 'wp.blockSerializationDefaultParser',
        '@wordpress/components': 'wp.components',
        '@wordpress/compose': 'wp.compose',
        '@wordpress/core-data': 'wp.coreData',
        '@wordpress/data': 'wp.data',
        '@wordpress/date': 'wp.date',
        '@wordpress/deprecated': 'wp.deprecated',
        '@wordpress/dom': 'wp.dom',
        '@wordpress/dom-ready': 'wp.domReady',
        '@wordpress/editor': 'wp.editor',
        '@wordpress/edit-post': 'wp.editPost',
        '@wordpress/element': 'wp.element',
        '@wordpress/escape-html': 'wp.escapeHtml',
        '@wordpress/format-library': 'wp.formatLibrary',
        '@wordpress/hooks': 'wp.hooks',
        '@wordpress/html-entities': 'wp.htmlEntities',
        '@wordpress/i18n': 'wp.i18n',
        '@wordpress/is-shallow-equal': 'wp.isShallowEqual',
        '@wordpress/keycodes': 'wp.keycodes',
        '@wordpress/notices': 'wp.notices',
        '@wordpress/nux': 'wp.nux',
        '@wordpress/plugins': 'wp.plugins',
        '@wordpress/redux-routine': 'wp.reduxRoutine',
        '@wordpress/rich-text': 'wp.richText',
        '@wordpress/shortcode': 'wp.shortcode',
        '@wordpress/token-list': 'wp.tokenList',
        '@wordpress/url': 'wp.url',
        '@wordpress/viewport': 'wp.viewport',
        '@wordpress/wordcount': 'wp.wordcount',
        backbone: 'Backbone',
        jquery: 'jQuery',
        lodash: 'lodash',
        moment: 'moment',
        react: 'React',
        'react-dom': 'ReactDOM',
        tinymce: 'tinymce',
        underscore: '_',
    },
    devtool: 'source-map',
}
